<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.3.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.1/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","images":"/images","scheme":"Muse","version":"8.1.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}};
  </script>
<meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>
<title>Hexo</title>
  



  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Hexo</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <section class="post-toc-wrap sidebar-panel">
        </section>
        <!--/noindex-->

        <section class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">2</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



        </section>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/12/25/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/12/25/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/" class="post-title-link" itemprop="url">博客搭建</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2020-12-25 15:47:11 / Modified: 15:51:49" itemprop="dateCreated datePublished" datetime="2020-12-25T15:47:11+00:00">2020-12-25</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="选型"><a href="#选型" class="headerlink" title="选型"></a>选型</h3><p>底层:hexo,管理和写作:hexo-admin,主题:next</p>
<h3 id="搭建"><a href="#搭建" class="headerlink" title="搭建"></a>搭建</h3><p>前置准备:安装node.js,yarn,git</p>
<p>关键命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># mkdir &#x2F;usr&#x2F;local&#x2F;hexo-docs &#x2F;&#x2F;新建目录</span><br><span class="line"># hexo init hexo-docs &#x2F;&#x2F;初始化项目,可使用代理加速或通过修改hosts文件跳过github的DNS解析加快速度</span><br><span class="line"># yarn add hexo-theme-next &#x2F;&#x2F;添加主题</span><br><span class="line"># yarn add hexo-admin &#x2F;&#x2F;添加文章管理管理</span><br></pre></td></tr></table></figure>
<p>配置:</p>
<ul>
<li>hexo-theme-next:编辑目录下_config.yml,修改theme为next</li>
<li>hexo-admin:通过命令 <code>hexo server</code> 开启博客,进入<a target="_blank" rel="noopener" href="http://localhost:4000/admin">http://localhost:4000/admin</a> ,进入settings页面,单击Setup authentification here 链接,输入用户名密码,将下方生成的信息加入_config.yml中</li>
</ul>
<h3 id="开机自启"><a href="#开机自启" class="headerlink" title="开机自启"></a>开机自启</h3><p>创建脚本 hexo-server.sh,内容如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">cd &#x2F;usr&#x2F;local&#x2F;hexo-docs</span><br><span class="line">hexo s</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>执行 <code>chmod +x hexo-server.sh</code>，在/etc/systemd/system下创建服务脚本 hexo.service，内容如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description&#x3D;hexo Service</span><br><span class="line">After&#x3D;network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type&#x3D;idel</span><br><span class="line">User&#x3D;root</span><br><span class="line">Restart&#x3D;on-failure</span><br><span class="line">RestartSec&#x3D;60s</span><br><span class="line">ExecStart&#x3D;&#x2F;usr&#x2F;local&#x2F;hexo-docs&#x2F;hexo-server.sh</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy&#x3D;multi-user.target</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#systemctl daemon-reload &#x2F;&#x2F;重新加载配置</span><br><span class="line">#systemctl enable hexo.service  &#x2F;&#x2F;开机启动hexo</span><br></pre></td></tr></table></figure>
<h3 id="额外操作"><a href="#额外操作" class="headerlink" title="额外操作"></a>额外操作</h3><h4 id="内网穿透实现外网访问hexo"><a href="#内网穿透实现外网访问hexo" class="headerlink" title="内网穿透实现外网访问hexo"></a>内网穿透实现外网访问hexo</h4><p>由于hexo部署在我自己的树莓派上，无法在外网访问hexo，所以需要在配合内网穿透实现外网访问。选用sakura frp作为穿透工具，以下只做简单介绍，详细操作和问题请访问 <a target="_blank" rel="noopener" href="https://www.natfrp.com/">https://www.natfrp.com/</a> 查询。</p>
<p>打开 <a target="_blank" rel="noopener" href="https://www.natfrp.com/">https://www.natfrp.com/</a> 注册账号并登录，在管理端左侧菜单打开帮助文档，进入使用教程一节，由于我是树莓派，所以进入linux小节中，执行 <code>#uname -a </code> 可知，树莓派属于arm架构，进入管理页面，在菜单中进入软件下载，获取对应地址（不是直接下载），执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># cd &#x2F;usr&#x2F;local&#x2F;bin</span><br><span class="line"># curl -Lo frpc 您刚才复制的下载地址</span><br><span class="line"># chmod 755 frpc &#x2F;&#x2F;赋予执行权限</span><br><span class="line"># ls -ls frpc &#x2F;&#x2F;检查赋予是否成功</span><br><span class="line"># frpc -v &#x2F;&#x2F;检查脚本是否可以运行</span><br><span class="line"># cd &#x2F;etc&#x2F;systemd&#x2F;system</span><br><span class="line"># vi &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;frpc@.service &#x2F;&#x2F;脚本内容在下方</span><br><span class="line"># systemctl daemon-reload &#x2F;&#x2F;重载配置</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description&#x3D;SakuraFrp Service</span><br><span class="line">After&#x3D;network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type&#x3D;idle</span><br><span class="line">User&#x3D;nobody</span><br><span class="line">Restart&#x3D;on-failure</span><br><span class="line">RestartSec&#x3D;60s</span><br><span class="line">ExecStart&#x3D;&#x2F;usr&#x2F;local&#x2F;bin&#x2F;frpc -f %i</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy&#x3D;multi-user.target</span><br></pre></td></tr></table></figure>
<p>在sakura frp管理页面点击菜单创建隧道，监听4000端口（hexo默认4000端口启动，如果启动时修改了，要修改为对应端口），之后在隧道列表页面获取服务器名和外网端口和id，在用户信息页获取访问密钥执行 <code>systemctl enable frpc@密钥:ID</code> 开启服务自启，就可以在浏览器中通过 http://服务器名:外网端口 访问hexo了。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/12/25/%E6%A0%91%E8%8E%93%E6%B4%BE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/12/25/%E6%A0%91%E8%8E%93%E6%B4%BE/" class="post-title-link" itemprop="url">树莓派</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2020-12-25 15:45:57 / Modified: 15:52:04" itemprop="dateCreated datePublished" datetime="2020-12-25T15:45:57+00:00">2020-12-25</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="树莓派安装"><a href="#树莓派安装" class="headerlink" title="树莓派安装"></a>树莓派安装</h2><hr>
<h3 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h3><p>硬件设备: 树莓派4B,电源线,SD卡,读卡器</p>
<p>镜像选择: 官方Raspbian系统</p>
<p>下载地址镜像网址: <a target="_blank" rel="noopener" href="https://www.raspberrypi.org/downloads">https://www.raspberrypi.org/downloads</a> (镜像分为三个版本,Lite版本,最简版本,没有桌面环境.desktop版本,带桌面环境,desktop and software版本,带桌面环境和推荐软件)</p>
<p>使用软件: SDFormatter(格式化工具)和Win2DiskImager(烧录工具)</p>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>先使用SDFormatter格式化SD卡,之后打开Win2DiskImager,选择下载好的镜像,点击Write按钮,等待即可.推荐使用这两款工具,其他工具可能会无法成功烧录,表现为插入树莓派后系统无法自启动.成功烧录后,在window下只会看到几十M,原因是window不识别linux系统分区,可以以此判断烧录是否成功</p>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>树莓派默认用户:pi,密码:raspberry</p>
<p>树莓派安装完成即可直接使用,我安装的是desktop版本,连接有多种方式,这里主要介绍两种常见的方式</p>
<ul>
<li><p>树莓派直接连显示器,接上鼠标键盘,插上SD卡,通电即可进入桌面,第一次开机会进入引导,这时可以修改键盘布局(默认是英国键盘布局,可以改为美式布局,避免一些输入和预期不同),修改pi用户的默认密码,连接wifi等操作</p>
</li>
<li><p>在没有多余显示器或连接线的情况下,可以使用SSH连接,这种方式需要准备一根网线将树莓派接入网络.已官方版本为例,SD卡插入读卡器,连接电脑(不是树莓派),会显示一个boot名称的磁盘,新建一个ssh的文件,没有后缀名,就是叫做ssh的空文件,之后将SD卡插入树莓派开机.主要的问题是获取IP地址,如果可以登录路由器,可以在路由器的设备列表直接得到IP,或者使用Advanced Port Scanner端口扫描,获取IP后可以使用XShell等软件连接就可以了</p>
</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>






<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  







  






</body>
</html>
